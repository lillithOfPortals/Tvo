-- Load the Orion Library
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

-- Create the main window
local Window = OrionLib:MakeWindow({
    Name = "Old TVO by Lilith",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "OldTVO",
    IntroText = "Lilithware"
})

-- Create tabs
local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Add a Button for Auto Vervain + No CD
MainTab:AddButton({
    Name = "Auto Vervain + No CD",
    Callback = function()
        -- Insert the code for Auto Vervain + No CD here
        loadstring(game:HttpGet("https://raw.githubusercontent.com/lillithOfPortals/Tvo/main/Old%20Tvo"))()
    end
})

-- Add a Button for Fire Protection
MainTab:AddButton({
    Name = "Fire Protection-1",
    Callback = function()
        -- Code to start fire protection

loadstring(game:HttpGet("https://raw.githubusercontent.com/lillithOfPortals/Tvo/main/Oh"))()
    end
})

-- Add a Button for Character Selection
MainTab:AddButton({
    Name = "Character Selection",
    Callback = function()
        -- Code to enable character selection
        game.Players.LocalPlayer.PlayerGui.Selection.Enabled = true
    end
})

-- Add a Button for Character Selection Disable
MainTab:AddButton({
    Name = "Character Selection Disable",
    Callback = function()
        -- Code to disable character selection
        game.Players.LocalPlayer.PlayerGui.Selection.Enabled = false
    end
})

-- Add a Button for Mobile keyboard
MainTab:AddButton({
    Name = "Mobile Keyboard",
    Callback = function()
        -- Insert the code for Mobile keyboard here
        loadstring(game:HttpGet("https://raw.githubusercontent.com/advxzivhsjjdhxhsidifvsh/mobkeyboard/main/main.txt", true))()
    end
})

local KeybindsTab = Window:MakeTab({
    Name = "Keybinds",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local MiscTab = Window:MakeTab({
    Name = "Misc",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local CreditsTab = Window:MakeTab({
    Name = "Credits",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local CharacterSelectionTab = Window:MakeTab({
    Name = "Character Selection",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Create a toggle for keybinds in the Keybinds tab
local KeybindToggle = KeybindsTab:AddToggle({
    Name = "Keybind Toggle",
    Default = false,
    Callback = function(value)
        _G.KeybindsEnabled = value
    end
})

-- Function to check if keybinds are enabled
local function areKeybindsEnabled()
    return _G.KeybindsEnabled == true
end

-- Keybinds
local function createKeybind(key, incantationText)
    if areKeybindsEnabled() then
        local plr = game.Players.LocalPlayer
        local mouse = plr:GetMouse()
        mouse.KeyDown:Connect(function(keyPressed)
            if keyPressed == key then
                if mouse.Target then
                    local args = {
                        [1] = {
                            ["IncantationText"] = incantationText,
                            ["mouse"] = mouse.Hit
                        }
                    }
                    game:GetService("ReplicatedStorage").Events.Global.Witch.WitchBasic:FireServer(unpack(args))
                end
            end
        end)
    end
end

-- Define the keybinds
createKeybind('m', "motus")
createKeybind('l', "Lecutio")
createKeybind('v', "Ictus")
createKeybind('r', "Incendia")
createKeybind('j', "Errox Femus")
createKeybind('x', "Ad Somnum")
createKeybind('f', "Corporis Impetu")

-- Misc Tab Button: Buy Stake and teleport back
MiscTab:AddButton({
    Name = "Buy Stake",
    Callback = function()
        local player = game.Players.LocalPlayer
        local originalPosition = player.Character.HumanoidRootPart.CFrame
        local stakePosition = CFrame.new(-30.5721035, 4.60995245, 246.93129, 0.997937739, 4.50473934e-08, -0.0641891137, -4.44539729e-08, 1, 1.0673034e-08, 0.0641891137, -7.7975626e-09, 0.997937739)
        
        -- Teleport to stake position
        player.Character.HumanoidRootPart.CFrame = stakePosition
        
        -- Wait for the player to teleport and buy the stake
        wait(2)  -- Adjust time if necessary
        
        -- Simulate buying the stake (add the logic here based on your game)
        -- Example: game.ReplicatedStorage.BuyTool:FireServer("Stake")
        
        -- Teleport back to original position
        player.Character.HumanoidRootPart.CFrame = originalPosition
    end
})

-- Misc Tab Button: Ascendo For Any Char
MiscTab:AddButton({
    Name = "Ascendo For Any Char",
    Callback = function()
        local AnimationId = "9118954207"
        local Anim = Instance.new("Animation")
        Anim.AnimationId = "rbxassetid://" .. AnimationId
        local k = game.Players.LocalPlayer.Character.Humanoid:LoadAnimation(Anim)
        k:Play()
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 45
        wait(50)
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 16
        local Humanoid = game.Players.LocalPlayer.Character.Humanoid
        local ActiveTracks = Humanoid:GetPlayingAnimationTracks()
        for _, v in pairs(ActiveTracks) do
            v:Stop()
        end
    end
})

-- Character Selection Tab Button: Attack Target Character
CharacterSelectionTab:AddButton({
    Name = "Select and Stab Character",
    Callback = function()
        local targetCharacters = {
            "Hope Mikaelson", "Inadu", "Cleo", "Esther", "Davina", "Katherine", "Rebekah", "Klaus", "Damon"
            -- Add other character names from the game script
        }
        
        local function findAndAttackCharacter()
            local player = game.Players.LocalPlayer
            local character = player.Character
            local stake = character:FindFirstChild("Stake") -- Make sure "Stake" tool is equipped
            
            if not stake then
                warn("Stake tool is not equipped")
                return
            end
            
            for _, char in ipairs(game.Workspace:GetChildren()) do
                if char:IsA("Model") and table.find(targetCharacters, char.Name) then
                    -- Teleport to the character
                    player.Character.HumanoidRootPart.CFrame = char.HumanoidRootPart.CFrame
                    wait(1)  -- Give time for teleportation
                    
                    -- Attack the character
                    stake.Parent = character
                    stake:Activate()  -- Assuming "Activate" is the method to use the stake
                    
                    -- Auto-click on the character (repeated interaction)
                    local mouse = player:GetMouse()
                    while mouse.Target and mouse.Target.Parent == char do
                        mouse:Click()
                        wait(0.1)  -- Adjust click interval as necessary
                    end
                end
            end
        end

        -- Call the function to find and attack characters
        findAndAttackCharacter()
    end
})

-- Credits Tab
CreditsTab:AddParagraph("Credits", "Made By Lilith")
CreditsTab:AddParagraph("Credits", "GUI Design By Lecutio")
CreditsTab:AddParagraph("Credits", "Ascendo and ideas was made by zont")

-- Initialize the Orion Library
OrionLib:Init()
